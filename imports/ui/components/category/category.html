<template name="category">
  <form class="ui form">
    <div class="field">
      <label>Nom / Titre</label>
      <input type="text" name="name" placeholder="Nom / titre de la catégorie" value="{{category.name}}">
    </div>
    <div class="inline fields">
      <label>Type de catégorie</label>
      <div class="field">
        <div class="ui radio checkbox">
          <input type="radio" name="type" checked="{{isType 'parent'}}" value="parent" id="parent">
          <label for="parent">Parente</label>
        </div>
      </div>
      <div class="field">
        <div class="ui radio checkbox">
          <input type="radio" name="type" checked="{{isType 'help'}}" value="help" id="help">
          <label for="help">Finale -> texte d'aide</label>
        </div>
      </div>
      <div class="field">
        <div class="ui radio checkbox">
          <input type="radio" name="type" checked="{{isType 'ticket'}}" value="ticket" id="ticket">
          <label for="ticket">Finale -> ticket h76</label>
        </div>
      </div>
    </div>

    {{#if isType 'help'}}
    <div class="field">
      <label for="helpText">Texte d'aide</label>
      <textarea placeholder="Texte d'aide de la catégorie finale (ex: Personnes a contacter, comportement a adopter...)" id="helpText">{{category.helpText}}</textarea>
    </div>
    {{/if}}

    {{#if isType 'parent'}}
    <div class="field">
      <label id="subCategories">Ajouter une sous catégories</label>
      <div class="ui fluid multiple search selection dropdown">
        <input type="hidden" name="subCategories" id="subCategories" value="{{category.subCategories}}">
        <i class="dropdown icon"></i>
        <div class="default text">Choisir des catégories filles</div>
        <div class="menu">
          {{#each categories}}
            <div class="item" data-value="{{_id}}">{{name}}</div>
          {{/each}}
        </div>
      </div>
    </div>
    {{/if}}
    <div class="three fields">
      <div class="field">
        <label id="icon">Icône de la catégorie</label>
        <div class="ui icon input iconInput">
          <i class="file icon"></i>
          <input type="text" placeholder="/img/..." id="icon" name="icon" value="{{category.icon}}">
        </div>
        <input type="file" class="hidden" id="iconFile">
      </div>
      <div class="field">
        <label id="iconApp">Icône pour l'App'</label>
        <div class="ui icon input iconAppInput">
          <i class="file outline icon"></i>
          <input type="text" placeholder="/img/..." id="iconApp" name="iconApp" value="{{category.iconApp}}">
        </div>
        <input type="file" class="hidden" id="iconAppFile">
      </div>
      <div class="field">
        <label id="background">Fond de la catégorie</label>
        <div class="ui icon input backgroundInput">
          <i class="picture icon"></i>
          <input type="text" placeholder="/img/..." id="background" name="background" value="{{category.background}}">
        </div>
        <input type="file" class="hidden" id="backgroundFile">
      </div>

    </div>
    <div class="ui fluid buttons">
      {{#if category}}
      <div class="ui red button" id="deleteCategory">Supprimer</div>
      {{/if}}
      <a href="/categories" class="ui orange button">Annuler</a>
      <button type="submit" class="ui green button">Enregistrer</button>
    </div>
  </form>
</template>
